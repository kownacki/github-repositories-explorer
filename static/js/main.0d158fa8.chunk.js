(this["webpackJsonpgithub-repositories-explorer"]=this["webpackJsonpgithub-repositories-explorer"]||[]).push([[0],{17:function(e,t,r){e.exports=r(30)},29:function(e,t,r){},30:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),s=r(10),u=r.n(s),c=r(5),o=r(2),i=r.n(o),p=r(8),l=r(3),h=r(4),S=r(7),d=r(6),m=function(){var e=Object(p.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.github.com/search/users?q=".concat(t,"&per_page=5"));case 2:if(200!==(r=e.sent).status){e.next=9;break}return e.next=6,r.json();case 6:e.t0=e.sent.items,e.next=10;break;case 9:e.t0=!1;case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(p.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.github.com/users/".concat(t,"/repos"));case 2:if(200!==(r=e.sent).status){e.next=9;break}return e.next=6,r.json();case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=!1;case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=r(9),b=function(e){Object(S.a)(r,e);var t=Object(d.a)(r);function r(){return Object(l.a)(this,r),t.apply(this,arguments)}return Object(h.a)(r,[{key:"render",value:function(){return a.a.createElement("div",{className:"dropdown-item"},a.a.createElement("div",{className:"dropdown-item-header"},a.a.createElement("div",{className:"dropdown-item-header-left"},this.props.repo.name),a.a.createElement("div",{className:"dropdown-item-header-right"},this.props.repo.watchers," ",a.a.createElement(f.a,null))),a.a.createElement("div",{className:"dropdown-item-body"},this.props.repo.description))}}]),r}(a.a.Component),O=function(e){Object(S.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(l.a)(this,r),(n=t.call(this,e)).state={open:!1,onceOpened:!1},n}return Object(h.a)(r,[{key:"handleClick",value:function(){this.setState((function(e){return{open:!e.open}}))}},{key:"componentDidUpdate",value:function(){var e=Object(p.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.open||this.state.onceOpened){e.next=7;break}return this.setState({onceOpened:!0}),this.props.startFetchRepos(this.props.userID),e.next=5,E(this.props.username);case 5:(t=e.sent)?this.props.successFetchRepos(this.props.userID,t):this.props.failureFetchRepos(this.props.userID);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.reduxState.users[this.props.index];return a.a.createElement("div",null,a.a.createElement("div",{className:"dropdown-button",onClick:this.handleClick.bind(this)},a.a.createElement("div",{className:"dropdown-button-username"},this.props.username),this.state.open?a.a.createElement(f.c,null):a.a.createElement(f.b,null)),this.state.open?"LOADING_REPOS"===e.reposStatus?a.a.createElement("div",{className:"dropdown-info"},"Loading repositories"):"SUCCESS_REPOS"===e.reposStatus?a.a.createElement(a.a.Fragment,null,e.repos.length?a.a.createElement("ul",null,e.repos.map((function(e){return a.a.createElement("li",{key:e.id},a.a.createElement(b,{repo:e}))}))):a.a.createElement("div",{className:"dropdown-info"},"No repositories found.")):"FAILURE_REPOS"===e.reposStatus?a.a.createElement("div",{className:"dropdown-info"},"Something went wrong when fetching data. Try again in a minute"):"":"")}}]),r}(a.a.Component),v=Object(c.b)((function(e){return{reduxState:e}}),{startFetchRepos:function(e){return{type:"LOADING_REPOS",userID:e}},successFetchRepos:function(e,t){return{type:"SUCCESS_REPOS",userID:e,repos:t}},failureFetchRepos:function(e){return{type:"FAILURE_REPOS",userID:e}}})(O),R=function(e){Object(S.a)(r,e);var t=Object(d.a)(r);function r(){return Object(l.a)(this,r),t.apply(this,arguments)}return Object(h.a)(r,[{key:"render",value:function(){return a.a.createElement("div",null,"LOADING_USERS"===this.props.reduxState.usersStatus?a.a.createElement(a.a.Fragment,null,'Loading users for "',this.props.reduxState.query,'"'):"SUCCESS_USERS"===this.props.reduxState.usersStatus?a.a.createElement(a.a.Fragment,null,'Showing users for "',this.props.reduxState.query,'"',this.props.reduxState.users.length?a.a.createElement("ul",null,this.props.reduxState.users.map((function(e,t){return a.a.createElement("li",{key:e.id},a.a.createElement(v,{username:e.name,index:t,userID:e.id}))}))):a.a.createElement("div",null,"No user found.")):"FAILURE_USERS"===this.props.reduxState.usersStatus?"Something went wrong when fetching data. Try again in a minute":"")}}]),r}(a.a.Component),j=Object(c.b)((function(e){return{reduxState:e}}),{})(R),x=function(e){Object(S.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(l.a)(this,r),(n=t.call(this,e)).state={searchInputText:""},n}return Object(h.a)(r,[{key:"handleClick",value:function(){var e=Object(p.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.startSearchForUsers(this.state.searchInputText),e.next=3,m(this.state.searchInputText);case 3:(t=e.sent)?this.props.successSearchForUsers(t.map((function(e){return{id:e.id,name:e.login}}))):this.props.failureSearchForUsers();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"app"},a.a.createElement("input",{className:"search-input",placeholder:"Enter username",onInput:function(t){return e.setState({searchInputText:t.target.value})},type:"text"}),a.a.createElement("button",{className:"search-button",disabled:!this.state.searchInputText||"LOADING_USERS"===this.props.reduxState.type,onClick:this.handleClick.bind(this)},"Search"),a.a.createElement(j,null))}}]),r}(a.a.Component),y=Object(c.b)((function(e){return{reduxState:e}}),{startSearchForUsers:function(e){return{type:"LOADING_USERS",query:e}},successSearchForUsers:function(e){return{type:"SUCCESS_USERS",users:e}},failureSearchForUsers:function(){return{type:"FAILURE_USERS"}}})(x),U=(r(29),r(1)),I=r(11),w={type:"NONE"};var g=Object(I.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_USERS":return{usersStatus:"LOADING_USERS",query:t.query};case"SUCCESS_USERS":return{usersStatus:"SUCCESS_USERS",users:t.users,query:e.query};case"FAILURE_USERS":return{usersStatus:"FAILURE_USERS"};case"LOADING_REPOS":return Object(U.a)(Object(U.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(U.a)(Object(U.a)({},e),{},{reposStatus:"LOADING_REPOS"}):e}))});case"SUCCESS_REPOS":return Object(U.a)(Object(U.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(U.a)(Object(U.a)({},e),{},{reposStatus:"SUCCESS_REPOS",repos:t.repos}):e}))});case"FAILURE_REPOS":return Object(U.a)(Object(U.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(U.a)(Object(U.a)({},e),{},{reposStatus:"FAILURE_REPOS"}):e}))});default:return e}}));u.a.render(a.a.createElement(c.a,{store:g},a.a.createElement(y,null)),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.0d158fa8.chunk.js.map